<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1040.9441px" preserveAspectRatio="none" style="width:762px;height:1040px;" version="1.1" viewBox="0 0 762 1040" width="762.4348px" zoomAndPan="magnify"><defs><filter height="1" id="bnvpicnfhdsh50" width="1" x="0" y="0"><feFlood flood-color="#94DEF3" result="flood"/><feComposite in="SourceGraphic" in2="flood" operator="over"/></filter></defs><g><rect fill="#FFFFFF" height="517.5233" style="stroke: #5D5D5D; stroke-width: 1.2602228696145452;" width="686.8215" x="16.3829" y="92.7839"/><rect fill="#FFFFFF" height="185.3561" style="stroke: #5D5D5D; stroke-width: 1.2602228696145452;" width="732.8196" x="16.3829" y="627.9503"/><line style="stroke: #5D5D5D; stroke-width: 2.5204457392290904; stroke-dasharray: 5.0,5.0;" x1="63.0111" x2="63.0111" y1="71.3601" y2="834.7303"/><line style="stroke: #5D5D5D; stroke-width: 2.5204457392290904; stroke-dasharray: 5.0,5.0;" x1="598.6059" x2="598.6059" y1="71.3601" y2="834.7303"/><line style="stroke: #5D5D5D; stroke-width: 2.5204457392290904; stroke-dasharray: 5.0,5.0;" x1="696.2731" x2="696.2731" y1="71.3601" y2="834.7303"/><rect fill="#5D5D5D" height="66.3192" style="stroke: #5D5D5D; stroke-width: 1.8903343044218177;" width="68.052" x="28.9851" y="3.7807"/><text fill="#FFFFFF" font-family="Tahoma" font-size="20.1636" lengthAdjust="spacingAndGlyphs" textLength="50.4089" x="37.8067" y="32.7756">Client</text><text fill="#FFFFFF" font-family="Tahoma" font-size="20.1636" lengthAdjust="spacingAndGlyphs" textLength="36.5465" x="44.7379" y="57.1137">App</text><rect fill="#5D5D5D" height="66.3192" style="stroke: #5D5D5D; stroke-width: 1.8903343044218177;" width="68.052" x="28.9851" y="833.4701"/><text fill="#FFFFFF" font-family="Tahoma" font-size="20.1636" lengthAdjust="spacingAndGlyphs" textLength="50.4089" x="37.8067" y="862.465">Client</text><text fill="#FFFFFF" font-family="Tahoma" font-size="20.1636" lengthAdjust="spacingAndGlyphs" textLength="36.5465" x="44.7379" y="886.8031">App</text><rect fill="#5D5D5D" height="66.3192" style="stroke: #5D5D5D; stroke-width: 1.8903343044218177;" width="88.2156" x="554.4981" y="3.7807"/><text fill="#FFFFFF" font-family="Tahoma" font-size="20.1636" lengthAdjust="spacingAndGlyphs" textLength="70.5725" x="563.3196" y="32.7756">Farfetch</text><text fill="#FFFFFF" font-family="Tahoma" font-size="20.1636" lengthAdjust="spacingAndGlyphs" textLength="35.2862" x="580.9627" y="57.1137">STS</text><rect fill="#5D5D5D" height="66.3192" style="stroke: #5D5D5D; stroke-width: 1.8903343044218177;" width="88.2156" x="554.4981" y="833.4701"/><text fill="#FFFFFF" font-family="Tahoma" font-size="20.1636" lengthAdjust="spacingAndGlyphs" textLength="70.5725" x="563.3196" y="862.465">Farfetch</text><text fill="#FFFFFF" font-family="Tahoma" font-size="20.1636" lengthAdjust="spacingAndGlyphs" textLength="35.2862" x="580.9627" y="886.8031">STS</text><rect fill="#5D5D5D" height="41.9812" style="stroke: #5D5D5D; stroke-width: 1.8903343044218177;" width="79.394" x="657.2062" y="28.1187"/><text fill="#FFFFFF" font-family="Tahoma" font-size="20.1636" lengthAdjust="spacingAndGlyphs" textLength="61.7509" x="666.0278" y="57.1137">/stocks</text><rect fill="#5D5D5D" height="41.9812" style="stroke: #5D5D5D; stroke-width: 1.8903343044218177;" width="79.394" x="657.2062" y="833.4701"/><text fill="#FFFFFF" font-family="Tahoma" font-size="20.1636" lengthAdjust="spacingAndGlyphs" textLength="61.7509" x="666.0278" y="862.465">/stocks</text><path d="M16.3829,92.7839 L253.3048,92.7839 L253.3048,101.6055 L240.7026,114.2077 L16.3829,114.2077 L16.3829,92.7839 " fill="#FFFFFF" style="stroke: #5D5D5D; stroke-width: 1.2602228696145452;"/><rect fill="none" height="517.5233" style="stroke: #5D5D5D; stroke-width: 1.2602228696145452;" width="686.8215" x="16.3829" y="92.7839"/><text fill="#5D5D5D" font-family="Tahoma" font-size="16.3829" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="180.2119" x="35.2862" y="110.435">Access Token request</text><polygon fill="#5D5D5D" points="583.4832,287.9658,596.0854,293.0067,583.4832,298.0476,588.5241,293.0067" style="stroke: #5D5D5D; stroke-width: 1.2602228696145452;"/><line style="stroke: #5D5D5D; stroke-width: 2.5204457392290904;" x1="63.0111" x2="591.0445" y1="293.0067" y2="293.0067"/><text fill="#5D5D5D" font-family="Tahoma" font-size="17.6431" lengthAdjust="spacingAndGlyphs" textLength="162.5688" x="71.8327" y="137.7716">curl --request POST \</text><text fill="#5D5D5D" font-family="Tahoma" font-size="17.6431" lengthAdjust="spacingAndGlyphs" textLength="384.368" x="91.9963" y="159.0674">--url 'https://authbo.farfetch.net/connect/token' \</text><text fill="#5D5D5D" font-family="Tahoma" font-size="17.6431" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="473.8438" x="91.9963" y="180.3632">--header 'Content-Type: application/x-www-form-urlencoded'</text><text fill="#5D5D5D" font-family="Tahoma" font-size="17.6431" lengthAdjust="spacingAndGlyphs" textLength="6.3011" x="570.881" y="180.3632">\</text><text fill="#5D5D5D" font-family="Tahoma" font-size="17.6431" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="260.8661" x="91.9963" y="201.659">--header 'accept: application/json'</text><text fill="#5D5D5D" font-family="Tahoma" font-size="17.6431" lengthAdjust="spacingAndGlyphs" textLength="6.3011" x="357.9033" y="201.659">\</text><text fill="#5D5D5D" font-family="Tahoma" font-size="17.6431" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="331.4386" x="91.9963" y="222.9548">--data 'grant_type=client_credentials'</text><text fill="#5D5D5D" font-family="Tahoma" font-size="17.6431" lengthAdjust="spacingAndGlyphs" textLength="6.3011" x="428.4758" y="222.9548">\</text><text fill="#5D5D5D" font-family="Tahoma" font-size="17.6431" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="333.9591" x="91.9963" y="244.2506">--data 'client_id=farfetch_digitalAsset'</text><text fill="#5D5D5D" font-family="Tahoma" font-size="17.6431" lengthAdjust="spacingAndGlyphs" textLength="6.3011" x="430.9962" y="244.2506">\</text><text fill="#5D5D5D" font-family="Tahoma" font-size="17.6431" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="341.5204" x="91.9963" y="265.5464">--data 'client_secret=secretProduction'</text><text fill="#5D5D5D" font-family="Tahoma" font-size="17.6431" lengthAdjust="spacingAndGlyphs" textLength="6.3011" x="438.5576" y="265.5464">\</text><text fill="#5D5D5D" font-family="Tahoma" font-size="17.6431" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="189.0334" x="91.9963" y="286.8422">--data 'scope=stocks'</text><line style="stroke: #5D5D5D; stroke-width: 2.5204457392290904;" x1="598.6059" x2="651.5352" y1="374.5373" y2="374.5373"/><line style="stroke: #5D5D5D; stroke-width: 2.5204457392290904;" x1="651.5352" x2="651.5352" y1="374.5373" y2="390.9201"/><line style="stroke: #5D5D5D; stroke-width: 2.5204457392290904;" x1="599.8661" x2="651.5352" y1="390.9201" y2="390.9201"/><polygon fill="#5D5D5D" points="612.4683,385.8793,599.8661,390.9201,612.4683,395.961,607.4274,390.9201" style="stroke: #5D5D5D; stroke-width: 1.2602228696145452;"/><text fill="#5D5D5D" font-family="Tahoma" font-size="17.6431" lengthAdjust="spacingAndGlyphs" textLength="65.5316" x="607.4274" y="325.7811">Validates</text><text fill="#5D5D5D" font-family="Tahoma" font-size="17.6431" lengthAdjust="spacingAndGlyphs" textLength="69.3123" x="607.4274" y="347.0769">the client</text><text fill="#5D5D5D" font-family="Tahoma" font-size="17.6431" lengthAdjust="spacingAndGlyphs" textLength="80.6543" x="607.4274" y="368.3727">credentials</text><polygon fill="#5D5D5D" points="76.8736,595.1846,64.2714,600.2254,76.8736,605.2663,71.8327,600.2254" style="stroke: #5D5D5D; stroke-width: 1.2602228696145452;"/><line style="stroke: #5D5D5D; stroke-width: 2.5204457392290904; stroke-dasharray: 2.0,2.0;" x1="69.3123" x2="597.3456" y1="600.2254" y2="600.2254"/><text fill="#5D5D5D" font-family="Tahoma" font-size="17.6431" lengthAdjust="spacingAndGlyphs" textLength="136.1041" x="84.4349" y="423.6946">HTTP/1.1 200 OK</text><text fill="#5D5D5D" font-family="Tahoma" font-size="17.6431" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="239.4423" x="84.4349" y="444.9904">Content-Type: application/json</text><text fill="#5D5D5D" font-family="Tahoma" font-size="17.6431" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="187.7732" x="84.4349" y="466.2862">Cache-Control: no-store</text><text fill="#5D5D5D" font-family="Tahoma" font-size="17.6431" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="142.4052" x="84.4349" y="487.582">Pragma: no-cache</text><text fill="#5D5D5D" font-family="Tahoma" font-size="17.6431" lengthAdjust="spacingAndGlyphs" textLength="8.8216" x="84.4349" y="508.8777">{</text><text fill="#5D5D5D" font-family="Tahoma" font-size="17.6431" lengthAdjust="spacingAndGlyphs" textLength="0" x="94.5167" y="530.1735"/><text fill="#5D5D5D" filter="url(#bnvpicnfhdsh50)" font-family="Tahoma" font-size="17.6431" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="399.4906" x="94.5167" y="530.1735">"access_token": "AYjcyMzY...3ZDhiNmJkNTY"</text><text fill="#5D5D5D" font-family="Tahoma" font-size="17.6431" lengthAdjust="spacingAndGlyphs" textLength="5.0409" x="494.0074" y="530.1735">,</text><text fill="#5D5D5D" font-family="Tahoma" font-size="17.6431" lengthAdjust="spacingAndGlyphs" textLength="0" x="94.5167" y="551.4693"/><text fill="#5D5D5D" filter="url(#bnvpicnfhdsh50)" font-family="Tahoma" font-size="17.6431" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="205.4163" x="94.5167" y="551.4693">"token_type": "Bearer"</text><text fill="#5D5D5D" font-family="Tahoma" font-size="17.6431" lengthAdjust="spacingAndGlyphs" textLength="5.0409" x="299.933" y="551.4693">,</text><text fill="#5D5D5D" font-family="Tahoma" font-size="17.6431" lengthAdjust="spacingAndGlyphs" textLength="143.6654" x="94.5167" y="572.7651">"expires_in": 2400</text><text fill="#5D5D5D" font-family="Tahoma" font-size="17.6431" lengthAdjust="spacingAndGlyphs" textLength="8.8216" x="84.4349" y="594.0609">}</text><path d="M16.3829,627.9503 L293.6319,627.9503 L293.6319,636.7719 L281.0297,649.3741 L16.3829,649.3741 L16.3829,627.9503 " fill="#FFFFFF" style="stroke: #5D5D5D; stroke-width: 1.2602228696145452;"/><rect fill="none" height="185.3561" style="stroke: #5D5D5D; stroke-width: 1.2602228696145452;" width="732.8196" x="16.3829" y="627.9503"/><text fill="#5D5D5D" font-family="Tahoma" font-size="16.3829" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="220.539" x="35.2862" y="645.6015">Protected resource access</text><polygon fill="#5D5D5D" points="681.7806,759.2449,694.3828,764.2858,681.7806,769.3267,686.8215,764.2858" style="stroke: #5D5D5D; stroke-width: 1.2602228696145452;"/><line style="stroke: #5D5D5D; stroke-width: 2.5204457392290904;" x1="63.0111" x2="689.3419" y1="764.2858" y2="764.2858"/><text fill="#5D5D5D" font-family="Tahoma" font-size="17.6431" lengthAdjust="spacingAndGlyphs" textLength="151.2267" x="71.8327" y="672.9381">curl --request GET \</text><text fill="#5D5D5D" font-family="Tahoma" font-size="17.6431" lengthAdjust="spacingAndGlyphs" textLength="278.5093" x="81.9145" y="694.2339">--url https://api.farfetch.net/stocks \</text><text fill="#5D5D5D" font-family="Tahoma" font-size="17.6431" lengthAdjust="spacingAndGlyphs" textLength="0" x="81.9145" y="715.5297"/><text fill="#5D5D5D" font-family="Tahoma" font-size="17.6431" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="260.8661" x="81.9145" y="715.5297">--header 'accept: application/json'</text><text fill="#5D5D5D" font-family="Tahoma" font-size="17.6431" lengthAdjust="spacingAndGlyphs" textLength="6.3011" x="347.8215" y="715.5297">\</text><text fill="#5D5D5D" font-family="Tahoma" font-size="17.6431" lengthAdjust="spacingAndGlyphs" textLength="0" x="81.9145" y="736.8255"/><text fill="#5D5D5D" font-family="Tahoma" font-size="17.6431" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="311.275" x="81.9145" y="736.8255">--header 'content-type: application/json'</text><text fill="#5D5D5D" font-family="Tahoma" font-size="17.6431" lengthAdjust="spacingAndGlyphs" textLength="6.3011" x="398.2304" y="736.8255">\</text><text fill="#5D5D5D" font-family="Tahoma" font-size="17.6431" lengthAdjust="spacingAndGlyphs" textLength="0" x="81.9145" y="758.1213"/><text fill="#5D5D5D" font-family="Tahoma" font-size="17.6431" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="65.5316" x="81.9145" y="758.1213">--header</text><text fill="#5D5D5D" font-family="Tahoma" font-size="17.6431" lengthAdjust="spacingAndGlyphs" textLength="3.7807" x="152.487" y="758.1213">'</text><text fill="#5D5D5D" filter="url(#bnvpicnfhdsh50)" font-family="Tahoma" font-size="17.6431" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="425.9553" x="156.2676" y="758.1213">authorization: Bearer AYjcyMzY3...ZDhiNmJkNTY</text><text fill="#5D5D5D" font-family="Tahoma" font-size="17.6431" lengthAdjust="spacingAndGlyphs" textLength="3.7807" x="582.223" y="758.1213">'</text><polygon fill="#5D5D5D" points="76.8736,798.1838,64.2714,803.2247,76.8736,808.2656,71.8327,803.2247" style="stroke: #5D5D5D; stroke-width: 1.2602228696145452;"/><line style="stroke: #5D5D5D; stroke-width: 2.5204457392290904; stroke-dasharray: 2.0,2.0;" x1="69.3123" x2="695.643" y1="803.2247" y2="803.2247"/><text fill="#5D5D5D" font-family="Tahoma" font-size="17.6431" lengthAdjust="spacingAndGlyphs" textLength="166.3494" x="84.4349" y="797.0602">Requested Resources</text><text fill="#888888" font-family="Tahoma" font-size="12.6022" lengthAdjust="spacingAndGlyphs" textLength="0" x="7.5613" y="918.6988"/><text fill="#000000" font-family="Tahoma" font-size="17.6431" lengthAdjust="spacingAndGlyphs" textLength="316.3159" x="84.4349" y="938.9534">Font and background color conventions:</text><text fill="#000000" font-family="Tahoma" font-size="17.6431" lengthAdjust="spacingAndGlyphs" textLength="165.0892" x="89.4758" y="960.2492">- All fields are required</text><text fill="#000000" font-family="Tahoma" font-size="17.6431" lengthAdjust="spacingAndGlyphs" textLength="6.3011" x="89.4758" y="981.545">-</text><text fill="#000000" font-family="Tahoma" font-size="17.6431" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="137.3643" x="100.8178" y="981.545">Required values</text><text fill="#000000" font-family="Tahoma" font-size="17.6431" lengthAdjust="spacingAndGlyphs" textLength="6.3011" x="89.4758" y="1002.8408">-</text><text fill="#000000" font-family="Tahoma" font-size="17.6431" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="61.7509" x="100.8178" y="1002.8408">Headers</text><text fill="#000000" font-family="Tahoma" font-size="17.6431" lengthAdjust="spacingAndGlyphs" textLength="6.3011" x="89.4758" y="1024.1366">-</text><text fill="#000000" filter="url(#bnvpicnfhdsh50)" font-family="Tahoma" font-size="17.6431" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="277.249" x="100.8178" y="1024.1366">Used in more than one message</text><!--MD5=[ad092fef8f921c2a6517410a340a5e75]
@startuml


skinparam shadowing false
skinparam defaultFontName Tahoma

skinparam usecase {
     FontName "Tahoma"
     FontSize 16
     BorderColor #e6e6e6
     BackGroundColor #e6e6e6
     FontColor #5d5d5d
}

skinparam actor  {
    FontName "Tahoma"
    FontSize 16
    FontColor #5d5d5d
    BackGroundColor white
    BorderColor #5d5d5d
    FontName "Tahoma"
}

skinparam participant  {
     FontName "Tahoma"
     FontSize 16
     FontColor #white
     BackGroundColor #5d5d5d
     BorderColor #5d5d5d
}

skinparam rectangle  {
     BorderThickness 1
     Padding 24
     FontName "Tahoma"
     FontSize 16
     FontStyle bold
     FontColor #222222
     BorderColor #b6b6b6
     BackGroundColor #white
}

skinparam State  {
     BorderThickness 1
     Padding 24
     FontName "Tahoma"
     FontSize 16
     FontColor #222222
     BorderColor #b6b6b6
     BackGroundColor #white
}

skinparam Activity  {
     FontName "Tahoma"
     FontSize 14
     BorderColor #e6e6e6
     BackGroundColor #e6e6e6
     FontColor #5d5d5d
}

skinparam ActivityDiamond  {
     BorderThickness 1
     Padding 24
     FontName "Tahoma"
     FontSize 14
     FontColor #222222
     BorderColor #b6b6b6
     BackGroundColor #white
}

skinparam card  {
     FontName "Tahoma"
     FontSize 16
     FontColor #white
     BackGroundColor #5d5d5d
     BorderColor #5d5d5d
}


skinparam agent {
     RoundCorner 40
     FontName "Tahoma"
     FontSize 16
     BorderColor #e6e6e6
     BackGroundColor #e6e6e6
     FontColor #5d5d5d
}

skinparam cloud { 
     FontName "Tahoma"
     FontSize 16    
     FontColor #222222
     BorderColor #b6b6b6
     BackGroundColor #white
}

skinparam Arrow{
    Color #222222
    FontColor #222222
    FontSize 14
    Thickness 1
    FontName "Tahoma"
}

skinparam Line{
    Color #222222
    FontColor #222222
    FontSize 14
    Thickness 1
    FontName "Tahoma"
}

skinparam Sequence {
    ArrowColor #5d5d5d
    ArrowFontColor #5d5d5d
    ArrowFontSize 14
    ArrowThickness 2
    ArrowFontName "Tahoma"
    LineColor #5d5d5d
    LineFontColor #5d5d5d
    LineFontSize 14
    LineThickness 2
    LineFontName "Tahoma"
    LifeLineBackgroundColor #5d5d5d
    LifeLineBorderColor #5d5d5d
    LifeLineBorderThickness 2
    GroupBorderColor #5d5d5d
    GroupBorderThickness 1
    GroupBackgroundColor white
    GroupHeaderFontColor #5d5d5d
}


scale 768 width
scale 1024 height


participant "Client\nApp" as partner
participant "Farfetch\nSTS" as farfetch
participant "/stocks" as resource

group Access Token request
    partner -> farfetch: curl - -request POST \\\n    - -url 'https://authbo.farfetch.net/connect/token' \\\n<i>    - -header 'Content-Type: application/x-www-form-urlencoded'</i> \\\n<i>    - -header 'accept: application/json'</i> \\\n<b>    - -data 'grant_type=client_credentials'</b> \\\n<b>    - -data 'client_id=farfetch_digitalAsset'</b> \\\n<b>    - -data 'client_secret=secretProduction'</b> \\\n<b>    - -data 'scope=stocks'</b> 
    farfetch -> farfetch: Validates\nthe client\ncredentials
    farfetch - -> partner: HTTP/1.1 200 OK\n<i>Content-Type: application/json</i>\n<i>Cache-Control: no-store</i>\n<i>Pragma: no-cache</i>\n{\n  <b><back:#94def3>"access_token": "AYjcyMzY...3ZDhiNmJkNTY"</back></b>,\n  <b><back:#94def3>"token_type": "Bearer"</back></b>,\n  "expires_in": 2400\n}
end
group Protected resource access
    partner -> resource: curl - -request GET \\\n  - -url https://api.farfetch.net/stocks \\\n  <i>- -header 'accept: application/json'</i> \\\n  <i>- -header 'content-type: application/json'</i> \\\n  <i>- -header</i> '<b><back:#94def3>authorization: Bearer AYjcyMzY3...ZDhiNmJkNTY</back></b>'
    resource - -> partner: Requested Resources
end

left footer \n<color #000><font size=14><color #000><font size=14>\t\tFont and background color conventions:</font></color>\n<color #000><font size=14>\t\t - All fields are required</font></color>\n<color #000><font size=14>\t\t - <b>Required values</b></font></color>\n<color #000><font size=14>\t\t - <i>Headers</i></font></color>\n<color #000><font size=14>\t\t - <back:#94def3><b>Used in more than one message</b></back></font></color>

@enduml

PlantUML version 1.2019.11(Sun Sep 22 11:02:15 BST 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) Client VM
Java Version: 1.8.0_281-b09
Operating System: Windows 10
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>