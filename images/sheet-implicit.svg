<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1037.4324px" preserveAspectRatio="none" style="width:813px;height:1037px;" version="1.1" viewBox="0 0 813 1037" width="813.6522px" zoomAndPan="magnify"><defs><filter height="1" id="be1t11akh88zd0" width="1" x="0" y="0"><feFlood flood-color="#E6E6E6" result="flood"/><feComposite in="SourceGraphic" in2="flood" operator="over"/></filter><filter height="1" id="be1t11akh88zd1" width="1" x="0" y="0"><feFlood flood-color="#94DEF3" result="flood"/><feComposite in="SourceGraphic" in2="flood" operator="over"/></filter><filter height="1" id="be1t11akh88zd2" width="1" x="0" y="0"><feFlood flood-color="#2C9AB7" result="flood"/><feComposite in="SourceGraphic" in2="flood" operator="over"/></filter></defs><g><rect fill="#FFFFFF" height="503.0803" style="stroke: #5D5D5D; stroke-width: 1.0312448982401756;" width="743.5276" x="13.4062" y="105.5092"/><rect fill="#FFFFFF" height="151.6776" style="stroke: #5D5D5D; stroke-width: 1.0312448982401756;" width="649.1687" x="153.6555" y="623.027"/><line style="stroke: #5D5D5D; stroke-width: 2.0624897964803512; stroke-dasharray: 5.0,5.0;" x1="61.8747" x2="61.8747" y1="87.9781" y2="792.2358"/><line style="stroke: #5D5D5D; stroke-width: 2.0624897964803512; stroke-dasharray: 5.0,5.0;" x1="191.8116" x2="191.8116" y1="87.9781" y2="792.2358"/><line style="stroke: #5D5D5D; stroke-width: 2.0624897964803512; stroke-dasharray: 5.0,5.0;" x1="633.1844" x2="633.1844" y1="87.9781" y2="792.2358"/><line style="stroke: #5D5D5D; stroke-width: 2.0624897964803512; stroke-dasharray: 5.0,5.0;" x1="751.2619" x2="751.2619" y1="87.9781" y2="792.2358"/><text fill="#5D5D5D" font-family="Tahoma" font-size="16.4999" lengthAdjust="spacingAndGlyphs" textLength="70.1247" x="23.7186" y="84.5701">Customer</text><ellipse cx="61.8747" cy="13.4062" fill="#FFFFFF" rx="8.25" ry="8.25" style="stroke: #5D5D5D; stroke-width: 2.0624897964803512;"/><path d="M61.8747,21.6561 L61.8747,49.4998 M48.4685,29.9061 L75.2809,29.9061 M61.8747,49.4998 L48.4685,64.9684 M61.8747,49.4998 L75.2809,64.9684 " fill="none" style="stroke: #5D5D5D; stroke-width: 2.0624897964803512;"/><text fill="#5D5D5D" font-family="Tahoma" font-size="16.4999" lengthAdjust="spacingAndGlyphs" textLength="70.1247" x="23.7186" y="807.7125">Customer</text><ellipse cx="61.8747" cy="821.4329" fill="#FFFFFF" rx="8.25" ry="8.25" style="stroke: #5D5D5D; stroke-width: 2.0624897964803512;"/><path d="M61.8747,829.6828 L61.8747,857.5265 M48.4685,837.9328 L75.2809,837.9328 M61.8747,857.5265 L48.4685,872.9951 M61.8747,857.5265 L75.2809,872.9951 " fill="none" style="stroke: #5D5D5D; stroke-width: 2.0624897964803512;"/><rect fill="#5D5D5D" height="54.2693" style="stroke: #5D5D5D; stroke-width: 1.5468673473602634;" width="55.6872" x="163.9679" y="32.6776"/><text fill="#FFFFFF" font-family="Tahoma" font-size="16.4999" lengthAdjust="spacingAndGlyphs" textLength="41.2498" x="171.1867" y="56.4043">Client</text><text fill="#FFFFFF" font-family="Tahoma" font-size="16.4999" lengthAdjust="spacingAndGlyphs" textLength="29.9061" x="176.8585" y="76.3202">App</text><rect fill="#5D5D5D" height="54.2693" style="stroke: #5D5D5D; stroke-width: 1.5468673473602634;" width="55.6872" x="163.9679" y="791.2045"/><text fill="#FFFFFF" font-family="Tahoma" font-size="16.4999" lengthAdjust="spacingAndGlyphs" textLength="41.2498" x="171.1867" y="814.9312">Client</text><text fill="#FFFFFF" font-family="Tahoma" font-size="16.4999" lengthAdjust="spacingAndGlyphs" textLength="29.9061" x="176.8585" y="834.8471">App</text><rect fill="#5D5D5D" height="54.2693" style="stroke: #5D5D5D; stroke-width: 1.5468673473602634;" width="72.1871" x="597.0908" y="32.6776"/><text fill="#FFFFFF" font-family="Tahoma" font-size="16.4999" lengthAdjust="spacingAndGlyphs" textLength="57.7497" x="604.3095" y="56.4043">Farfetch</text><text fill="#FFFFFF" font-family="Tahoma" font-size="16.4999" lengthAdjust="spacingAndGlyphs" textLength="28.8749" x="618.7469" y="76.3202">STS</text><rect fill="#5D5D5D" height="54.2693" style="stroke: #5D5D5D; stroke-width: 1.5468673473602634;" width="72.1871" x="597.0908" y="791.2045"/><text fill="#FFFFFF" font-family="Tahoma" font-size="16.4999" lengthAdjust="spacingAndGlyphs" textLength="57.7497" x="604.3095" y="814.9312">Farfetch</text><text fill="#FFFFFF" font-family="Tahoma" font-size="16.4999" lengthAdjust="spacingAndGlyphs" textLength="28.8749" x="618.7469" y="834.8471">STS</text><rect fill="#5D5D5D" height="34.3533" style="stroke: #5D5D5D; stroke-width: 1.5468673473602634;" width="81.4683" x="711.0434" y="52.5935"/><text fill="#FFFFFF" font-family="Tahoma" font-size="16.4999" lengthAdjust="spacingAndGlyphs" textLength="67.0309" x="718.2621" y="76.3202">/wishlists</text><rect fill="#5D5D5D" height="34.3533" style="stroke: #5D5D5D; stroke-width: 1.5468673473602634;" width="81.4683" x="711.0434" y="791.2045"/><text fill="#FFFFFF" font-family="Tahoma" font-size="16.4999" lengthAdjust="spacingAndGlyphs" textLength="67.0309" x="718.2621" y="814.9312">/wishlists</text><path d="M13.4062,105.5092 L207.2802,105.5092 L207.2802,112.728 L196.9678,123.0404 L13.4062,123.0404 L13.4062,105.5092 " fill="#FFFFFF" style="stroke: #5D5D5D; stroke-width: 1.0312448982401756;"/><rect fill="none" height="503.0803" style="stroke: #5D5D5D; stroke-width: 1.0312448982401756;" width="743.5276" x="13.4062" y="105.5092"/><text fill="#5D5D5D" font-family="Tahoma" font-size="13.4062" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="147.468" x="28.8749" y="119.9532">Access Token request</text><polygon fill="#5D5D5D" points="179.4366,143.2423,189.7491,147.3673,179.4366,151.4923,183.5616,147.3673" style="stroke: #5D5D5D; stroke-width: 1.0312448982401756;"/><line style="stroke: #5D5D5D; stroke-width: 2.0624897964803512;" x1="61.8747" x2="185.6241" y1="147.3673" y2="147.3673"/><text fill="#5D5D5D" font-family="Tahoma" font-size="14.4374" lengthAdjust="spacingAndGlyphs" textLength="105.187" x="69.0934" y="142.3229">Clicks in login link</text><polygon fill="#5D5D5D" points="620.8094,279.6648,631.1219,283.7897,620.8094,287.9147,624.9344,283.7897" style="stroke: #5D5D5D; stroke-width: 1.0312448982401756;"/><line style="stroke: #5D5D5D; stroke-width: 2.0624897964803512;" x1="191.8116" x2="626.9969" y1="283.7897" y2="283.7897"/><text fill="#5D5D5D" font-family="Tahoma" font-size="14.4374" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="274.3111" x="199.0303" y="174.1867">https://auth.farfetch.net/connect/authorize</text><text fill="#5D5D5D" font-family="Tahoma" font-size="14.4374" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="7.2187" x="199.0303" y="191.6132">?</text><text fill="#5D5D5D" font-family="Tahoma" font-size="14.4374" font-weight="bold" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="158.8117" x="206.249" y="191.6132">response_type=token</text><text fill="#5D5D5D" font-family="Tahoma" font-size="14.4374" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="0" x="369.1857" y="191.6132"/><text fill="#5D5D5D" filter="url(#be1t11akh88zd0)" font-family="Tahoma" font-size="14.4374" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="54.656" x="369.1857" y="191.6132">id_token</text><text fill="#5D5D5D" font-family="Tahoma" font-size="14.4374" lengthAdjust="spacingAndGlyphs" textLength="9.2812" x="199.0303" y="209.0396">&amp;</text><text fill="#5D5D5D" font-family="Tahoma" font-size="14.4374" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="176.3429" x="208.3115" y="209.0396">client_id=ff_awesome_client</text><text fill="#5D5D5D" font-family="Tahoma" font-size="14.4374" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="9.2812" x="199.0303" y="226.466">&amp;</text><text fill="#5D5D5D" filter="url(#be1t11akh88zd1)" font-family="Tahoma" font-size="14.4374" font-weight="bold" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="407.3417" x="208.3115" y="226.466">redirect_uri=https://awesomeclientapp/callback-success</text><text fill="#5D5D5D" font-family="Tahoma" font-size="14.4374" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="56.7185" x="199.0303" y="243.8924">&amp;scope=</text><text fill="#5D5D5D" filter="url(#be1t11akh88zd0)" font-family="Tahoma" font-size="14.4374" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="42.281" x="255.7487" y="243.8924">openid</text><text fill="#5D5D5D" font-family="Tahoma" font-size="14.4374" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="155.718" x="298.0298" y="243.8924">+commerce.wishlist.read</text><text fill="#5D5D5D" font-family="Tahoma" font-size="14.4374" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="9.2812" x="199.0303" y="261.3189">&amp;</text><text fill="#5D5D5D" filter="url(#be1t11akh88zd1)" font-family="Tahoma" font-size="14.4374" font-weight="bold" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="89.7183" x="208.3115" y="261.3189">state=abcde</text><text fill="#5D5D5D" font-family="Tahoma" font-size="14.4374" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="9.2812" x="199.0303" y="278.7453">&amp;</text><text fill="#5D5D5D" filter="url(#be1t11akh88zd1)" font-family="Tahoma" font-size="14.4374" font-weight="bold" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="101.062" x="208.3115" y="278.7453">nonce=54321</text><text fill="#5D5D5D" font-family="Tahoma" font-size="14.4374" lengthAdjust="spacingAndGlyphs" textLength="18.5624" x="309.3735" y="278.7453">(*)</text><polygon fill="#5D5D5D" points="73.2184,312.9526,62.9059,317.0776,73.2184,321.2026,69.0934,317.0776" style="stroke: #5D5D5D; stroke-width: 1.0312448982401756;"/><line style="stroke: #5D5D5D; stroke-width: 2.0624897964803512; stroke-dasharray: 2.0,2.0;" x1="67.0309" x2="632.1531" y1="317.0776" y2="317.0776"/><text fill="#5D5D5D" font-family="monospace" font-size="14.4374" lengthAdjust="spacingAndGlyphs" textLength="74.2496" x="79.4059" y="310.6796">302 Found</text><text fill="#5D5D5D" font-family="Tahoma" font-size="14.4374" lengthAdjust="spacingAndGlyphs" textLength="210.374" x="157.7805" y="312.0332">redirect to authentication prompt</text><polygon fill="#5D5D5D" points="620.8094,362.2429,631.1219,366.3679,620.8094,370.4929,624.9344,366.3679" style="stroke: #5D5D5D; stroke-width: 1.0312448982401756;"/><line style="stroke: #5D5D5D; stroke-width: 2.0624897964803512;" x1="61.8747" x2="626.9969" y1="366.3679" y2="366.3679"/><text fill="#5D5D5D" font-family="Tahoma" font-size="14.4374" lengthAdjust="spacingAndGlyphs" textLength="146.4368" x="69.0934" y="343.897">User authenticates with</text><text fill="#5D5D5D" font-family="Tahoma" font-size="14.4374" lengthAdjust="spacingAndGlyphs" textLength="216.5614" x="69.0934" y="361.3234">username, password, and consent</text><line style="stroke: #5D5D5D; stroke-width: 2.0624897964803512;" x1="633.1844" x2="676.4967" y1="433.0846" y2="433.0846"/><line style="stroke: #5D5D5D; stroke-width: 2.0624897964803512;" x1="676.4967" x2="676.4967" y1="433.0846" y2="446.4908"/><line style="stroke: #5D5D5D; stroke-width: 2.0624897964803512;" x1="634.2156" x2="676.4967" y1="446.4908" y2="446.4908"/><polygon fill="#5D5D5D" points="644.5281,442.3658,634.2156,446.4908,644.5281,450.6158,640.4031,446.4908" style="stroke: #5D5D5D; stroke-width: 1.0312448982401756;"/><text fill="#5D5D5D" font-family="Tahoma" font-size="14.4374" lengthAdjust="spacingAndGlyphs" textLength="53.6247" x="640.4031" y="393.1873">Validates</text><text fill="#5D5D5D" font-family="Tahoma" font-size="14.4374" lengthAdjust="spacingAndGlyphs" textLength="104.1557" x="640.4031" y="410.6137">Resource Owner</text><text fill="#5D5D5D" font-family="Tahoma" font-size="14.4374" lengthAdjust="spacingAndGlyphs" textLength="65.9997" x="640.4031" y="428.0401">credentials</text><polygon fill="#5D5D5D" points="203.1552,596.2146,192.8428,600.3396,203.1552,604.4646,199.0303,600.3396" style="stroke: #5D5D5D; stroke-width: 1.0312448982401756;"/><line style="stroke: #5D5D5D; stroke-width: 2.0624897964803512; stroke-dasharray: 2.0,2.0;" x1="196.9678" x2="632.1531" y1="600.3396" y2="600.3396"/><text fill="#5D5D5D" font-family="Tahoma" font-size="14.4374" lengthAdjust="spacingAndGlyphs" textLength="0" x="213.4677" y="473.3102"/><text fill="#5D5D5D" font-family="Tahoma" font-size="14.4374" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="270.1862" x="209.3427" y="490.7366">https://awesomeclientapp/callback-success</text><text fill="#5D5D5D" font-family="Tahoma" font-size="14.4374" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="7.2187" x="209.3427" y="508.163">?</text><text fill="#5D5D5D" filter="url(#be1t11akh88zd2)" font-family="Tahoma" font-size="14.4374" font-weight="bold" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="287.7173" x="216.5614" y="508.163">access_token=AYjcyMzY3ZDhiNmJkNTY</text><text fill="#5D5D5D" font-family="Tahoma" font-size="14.4374" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="9.2812" x="209.3427" y="525.5895">&amp;</text><text fill="#5D5D5D" filter="url(#be1t11akh88zd2)" font-family="Tahoma" font-size="14.4374" font-weight="bold" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="141.2806" x="218.6239" y="525.5895">token_type=Bearer</text><text fill="#5D5D5D" font-family="Tahoma" font-size="14.4374" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="115.4994" x="209.3427" y="543.0159">&amp;expires_in=3600</text><text fill="#5D5D5D" font-family="Tahoma" font-size="14.4374" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="9.2812" x="209.3427" y="560.4423">&amp;</text><text fill="#5D5D5D" filter="url(#be1t11akh88zd1)" font-family="Tahoma" font-size="14.4374" font-weight="bold" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="89.7183" x="218.6239" y="560.4423">state=abcde</text><text fill="#5D5D5D" font-family="Tahoma" font-size="14.4374" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="9.2812" x="209.3427" y="577.8688">&amp;</text><text fill="#5D5D5D" filter="url(#be1t11akh88zd1)" font-family="Tahoma" font-size="14.4374" font-weight="bold" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="101.062" x="218.6239" y="577.8688">nonce=54321</text><text fill="#5D5D5D" font-family="Tahoma" font-size="14.4374" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="9.2812" x="209.3427" y="595.2952">&amp;</text><text fill="#5D5D5D" filter="url(#be1t11akh88zd0)" font-family="Tahoma" font-size="14.4374" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="270.1862" x="218.6239" y="595.2952">id_token=IYsjdhYsdldnnHHHn,ksnajJHkJkk</text><text fill="#5D5D5D" font-family="Tahoma" font-size="14.4374" lengthAdjust="spacingAndGlyphs" textLength="18.5624" x="488.8101" y="595.2952">(*)</text><path d="M153.6555,623.027 L380.5294,623.027 L380.5294,630.2457 L370.2169,640.5582 L153.6555,640.5582 L153.6555,623.027 " fill="#FFFFFF" style="stroke: #5D5D5D; stroke-width: 1.0312448982401756;"/><rect fill="none" height="151.6776" style="stroke: #5D5D5D; stroke-width: 1.0312448982401756;" width="649.1687" x="153.6555" y="623.027"/><text fill="#5D5D5D" font-family="Tahoma" font-size="13.4062" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="180.4679" x="169.1242" y="637.471">Protected resource access</text><polygon fill="#5D5D5D" points="739.4026,730.4658,749.715,734.5908,739.4026,738.7158,743.5276,734.5908" style="stroke: #5D5D5D; stroke-width: 1.0312448982401756;"/><line style="stroke: #5D5D5D; stroke-width: 2.0624897964803512;" x1="191.8116" x2="745.5901" y1="734.5908" y2="734.5908"/><text fill="#5D5D5D" font-family="Tahoma" font-size="14.4374" lengthAdjust="spacingAndGlyphs" textLength="84.5621" x="199.0303" y="659.8406">curl --request</text><text fill="#5D5D5D" font-family="Tahoma" font-size="14.4374" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="25.7811" x="287.7173" y="659.8406">GET</text><text fill="#5D5D5D" font-family="Tahoma" font-size="14.4374" lengthAdjust="spacingAndGlyphs" textLength="5.1562" x="317.6234" y="659.8406">\</text><text fill="#5D5D5D" font-family="Tahoma" font-size="14.4374" lengthAdjust="spacingAndGlyphs" textLength="25.7811" x="207.2802" y="677.2671">--url</text><text fill="#5D5D5D" font-family="Tahoma" font-size="14.4374" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="269.1549" x="237.1863" y="677.2671">https://api.farfetch.net/user/12345/whislist</text><text fill="#5D5D5D" font-family="Tahoma" font-size="14.4374" lengthAdjust="spacingAndGlyphs" textLength="5.1562" x="510.4662" y="677.2671">\</text><text fill="#5D5D5D" font-family="Tahoma" font-size="14.4374" lengthAdjust="spacingAndGlyphs" textLength="0" x="207.2802" y="694.6935"/><text fill="#5D5D5D" font-family="Tahoma" font-size="14.4374" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="213.4677" x="207.2802" y="694.6935">--header 'accept: application/json'</text><text fill="#5D5D5D" font-family="Tahoma" font-size="14.4374" lengthAdjust="spacingAndGlyphs" textLength="5.1562" x="424.8729" y="694.6935">\</text><text fill="#5D5D5D" font-family="Tahoma" font-size="14.4374" lengthAdjust="spacingAndGlyphs" textLength="0" x="207.2802" y="712.1199"/><text fill="#5D5D5D" font-family="Tahoma" font-size="14.4374" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="254.7175" x="207.2802" y="712.1199">--header 'content-type: application/json'</text><text fill="#5D5D5D" font-family="Tahoma" font-size="14.4374" lengthAdjust="spacingAndGlyphs" textLength="5.1562" x="466.1227" y="712.1199">\</text><text fill="#5D5D5D" font-family="Tahoma" font-size="14.4374" lengthAdjust="spacingAndGlyphs" textLength="0" x="207.2802" y="729.5463"/><text fill="#5D5D5D" font-family="Tahoma" font-size="14.4374" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="60.8434" x="207.2802" y="729.5463">--header '</text><text fill="#5D5D5D" filter="url(#be1t11akh88zd2)" font-family="Tahoma" font-size="14.4374" font-style="italic" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="335.1546" x="268.1237" y="729.5463">authorization: bearer AYjcyMzY3ZDhiNmJkNTY</text><text fill="#5D5D5D" font-family="Tahoma" font-size="14.4374" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="3.0937" x="603.2783" y="729.5463">'</text><polygon fill="#5D5D5D" points="203.1552,762.3297,192.8428,766.4546,203.1552,770.5796,199.0303,766.4546" style="stroke: #5D5D5D; stroke-width: 1.0312448982401756;"/><line style="stroke: #5D5D5D; stroke-width: 2.0624897964803512; stroke-dasharray: 2.0,2.0;" x1="196.9678" x2="750.7463" y1="766.4546" y2="766.4546"/><text fill="#5D5D5D" font-family="Tahoma" font-size="14.4374" lengthAdjust="spacingAndGlyphs" textLength="139.2181" x="209.3427" y="761.4102">Wishlist of user 12345</text><text fill="#888888" font-family="Tahoma" font-size="10.3124" lengthAdjust="spacingAndGlyphs" textLength="0" x="6.1875" y="890.5313"/><text fill="#000000" font-family="Tahoma" font-size="14.4374" lengthAdjust="spacingAndGlyphs" textLength="489.8413" x="69.0934" y="907.1058">(*) The form-encoding was removed and the line breaks added for readability.</text><text fill="#888888" font-family="Tahoma" font-size="10.3124" lengthAdjust="spacingAndGlyphs" textLength="0" x="6.1875" y="920.4052"/><text fill="#000000" font-family="Tahoma" font-size="14.4374" lengthAdjust="spacingAndGlyphs" textLength="258.8425" x="69.0934" y="936.9796">Font and background color conventions:</text><text fill="#000000" font-family="Tahoma" font-size="14.4374" lengthAdjust="spacingAndGlyphs" textLength="135.0931" x="73.2184" y="954.4061">- All fields are required</text><text fill="#000000" font-family="Tahoma" font-size="14.4374" lengthAdjust="spacingAndGlyphs" textLength="5.1562" x="73.2184" y="971.8325">-</text><text fill="#000000" filter="url(#be1t11akh88zd0)" font-family="Tahoma" font-size="14.4374" lengthAdjust="spacingAndGlyphs" textLength="189.7491" x="82.4996" y="971.8325">OpenID Connection extension</text><text fill="#000000" font-family="Tahoma" font-size="14.4374" lengthAdjust="spacingAndGlyphs" textLength="5.1562" x="73.2184" y="989.2589">-</text><text fill="#000000" font-family="Tahoma" font-size="14.4374" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="112.4057" x="82.4996" y="989.2589">Required values</text><text fill="#000000" font-family="Tahoma" font-size="14.4374" lengthAdjust="spacingAndGlyphs" textLength="5.1562" x="73.2184" y="1006.6854">-</text><text fill="#000000" font-family="Tahoma" font-size="14.4374" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="50.531" x="82.4996" y="1006.6854">Headers</text><text fill="#000000" font-family="Tahoma" font-size="14.4374" lengthAdjust="spacingAndGlyphs" textLength="5.1562" x="73.2184" y="1024.1118">-</text><text fill="#000000" filter="url(#be1t11akh88zd1)" font-family="Tahoma" font-size="14.4374" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="226.8739" x="82.4996" y="1024.1118">Used in more than one message</text><!--MD5=[6dfa34558d0498c379c39e21a451023e]
@startuml



skinparam shadowing false
skinparam defaultFontName Tahoma

skinparam usecase {
     FontName "Tahoma"
     FontSize 16
     BorderColor #e6e6e6
     BackGroundColor #e6e6e6
     FontColor #5d5d5d
}

skinparam actor  {
    FontName "Tahoma"
    FontSize 16
    FontColor #5d5d5d
    BackGroundColor white
    BorderColor #5d5d5d
    FontName "Tahoma"
}

skinparam participant  {
     FontName "Tahoma"
     FontSize 16
     FontColor #white
     BackGroundColor #5d5d5d
     BorderColor #5d5d5d
}

skinparam rectangle  {
     BorderThickness 1
     Padding 24
     FontName "Tahoma"
     FontSize 16
     FontStyle bold
     FontColor #222222
     BorderColor #b6b6b6
     BackGroundColor #white
}

skinparam State  {
     BorderThickness 1
     Padding 24
     FontName "Tahoma"
     FontSize 16
     FontColor #222222
     BorderColor #b6b6b6
     BackGroundColor #white
}

skinparam Activity  {
     FontName "Tahoma"
     FontSize 14
     BorderColor #e6e6e6
     BackGroundColor #e6e6e6
     FontColor #5d5d5d
}

skinparam ActivityDiamond  {
     BorderThickness 1
     Padding 24
     FontName "Tahoma"
     FontSize 14
     FontColor #222222
     BorderColor #b6b6b6
     BackGroundColor #white
}

skinparam card  {
     FontName "Tahoma"
     FontSize 16
     FontColor #white
     BackGroundColor #5d5d5d
     BorderColor #5d5d5d
}


skinparam agent {
     RoundCorner 40
     FontName "Tahoma"
     FontSize 16
     BorderColor #e6e6e6
     BackGroundColor #e6e6e6
     FontColor #5d5d5d
}

skinparam cloud { 
     FontName "Tahoma"
     FontSize 16    
     FontColor #222222
     BorderColor #b6b6b6
     BackGroundColor #white
}

skinparam Arrow{
    Color #222222
    FontColor #222222
    FontSize 14
    Thickness 1
    FontName "Tahoma"
}

skinparam Line{
    Color #222222
    FontColor #222222
    FontSize 14
    Thickness 1
    FontName "Tahoma"
}

skinparam Sequence {
    ArrowColor #5d5d5d
    ArrowFontColor #5d5d5d
    ArrowFontSize 14
    ArrowThickness 2
    ArrowFontName "Tahoma"
    LineColor #5d5d5d
    LineFontColor #5d5d5d
    LineFontSize 14
    LineThickness 2
    LineFontName "Tahoma"
    LifeLineBackgroundColor #5d5d5d
    LifeLineBorderColor #5d5d5d
    LifeLineBorderThickness 2
    GroupBorderColor #5d5d5d
    GroupBorderThickness 1
    GroupBackgroundColor white
    GroupHeaderFontColor #5d5d5d
}


scale 768 width
scale 1024 height

actor "Customer" as customer
participant "Client\nApp" as partner
participant "Farfetch\nSTS" as farfetch
participant "/wishlists" as resource

group Access Token request 
    customer -> partner: Clicks in login link
    partner -> farfetch: <u>https://auth.farfetch.net/connect/authorize</u>\n<u>?<b>response_type=token</b> <back:#e6e6e6>id_token</back>\n&<u>client_id=ff_awesome_client</u>\n<u>&<back:#94def3><b>redirect_uri=https://awesomeclientapp/callback-success</b></back></u>\n<u>&scope=<back:#e6e6e6>openid</back>+commerce.wishlist.read</u>\n<u>&<back:#94def3><b>state=abcde</b></u>\n<u>&<back:#94def3><b>nonce=54321</b></back></u>(*)
    farfetch - -> customer: ""302 Found"" redirect to authentication prompt
    customer -> farfetch: User authenticates with\nusername, password, and consent
    farfetch -> farfetch: Validates\nResource Owner\ncredentials
    farfetch - -> partner: \n<u>https://awesomeclientapp/callback-success</u>\n<u>?<back:#2c9ab7><b>access_token=AYjcyMzY3ZDhiNmJkNTY</b></back></u>\n<u>&<back:#2c9ab7><b>token_type=Bearer</b></back></u>\n<u>&expires_in=3600</u>\n<u>&<back:#94def3><b>state=abcde</b></back></u>\n<u>&<back:#94def3><b>nonce=54321</b></back></u>\n<u>&<back:#e6e6e6>id_token=IYsjdhYsdldnnHHHn,ksnajJHkJkk</back></u>(*)
end
group Protected resource access
    partner -> resource: curl - -request <u>GET</u> \\\n  - -url <u>https://api.farfetch.net/user/12345/whislist</u> \\\n  <i>- -header 'accept: application/json'</i> \\\n  <i>- -header 'content-type: application/json'</i> \\\n  <i>- -header '<b><back:#2c9ab7>authorization: bearer AYjcyMzY3ZDhiNmJkNTY</back></b>'</i>
    resource - -> partner: Wishlist of user 12345
end

left footer \n<color #000><font size=14>\t\t(*) The form-encoding was removed and the line breaks added for readability.</font></color>\n\n<color #000><font size=14>\t\tFont and background color conventions:</font></color>\n<color #000><font size=14>\t\t - All fields are required</font></color>\n<color #000><font size=14>\t\t - <back:#e6e6e6>OpenID Connection extension</back></font></color>\n<color #000><font size=14>\t\t - <b>Required values</b></font></color>\n<color #000><font size=14>\t\t - <i>Headers</i></font></color>\n<color #000><font size=14>\t\t - <back:#94def3><b>Used in more than one message</b></back></font></color>

@enduml

PlantUML version 1.2019.11(Sun Sep 22 11:02:15 BST 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) Client VM
Java Version: 1.8.0_271-b09
Operating System: Windows 10
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>